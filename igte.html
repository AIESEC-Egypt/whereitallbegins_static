<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Where it all begins</title>
  <link rel="icon" href="assets/images/favicon.png">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/vendors/fontawesome/css/all.min.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link
  rel="stylesheet"
  href="assets/vendors/swiperjs/swiper-bundle.min.css"
  />
  <style>
    .opp-card h3 {
      font-size: 24px;
      line-height: 1;
    }
    .opp-card {
      height: 335px;
      background: #f48924;
    }
    .border-igv{
      border: #f48924 10px solid;
    }
    #load-more{
      background: #f48924;
    }
    .projects-header::after{
      width: 71%;
      border-bottom: #f48924 2px solid;
    }
    .projects-header button{
      background: #f48924;
    }
    .start-date input{
      background: #f48924;
    }
    #load-more:hover{
      color: #f48924;
    }
    .filter:hover{
      color: #f48924;
    }
    .input-wrapper label:before {
      border: 2px solid #f48924;
    }
    .filter-list{
      border-right: solid 1px #f48924;
    }

    .active-filter{
      border-right: solid 5px #f48924;
    }

    .start-date input{
      background: #f48924;
    }
    .card-info-wrapper {
      display: flex;
      flex-direction: column;
      gap: 3px;
    } 
    .opp-card h3 {
        margin-bottom: 5px;
    }
    @media (max-width: 767px){
      .projects-header::after {
          width: 100%;
      }
    }
  </style>
  <style type="text/css">
    @keyframes ldio-fcx8uszokr6 {
      0% { transform: translate(-50%,-50%) rotate(0deg); }
      100% { transform: translate(-50%,-50%) rotate(360deg); }
    }
    .ldio-fcx8uszokr6 div {
      position: absolute;
      width: 60px;
      height: 60px;
      border: 10px solid #febe47;
      border-top-color: transparent;
      border-radius: 50%;
    }
    .ldio-fcx8uszokr6 div {
      animation: ldio-fcx8uszokr6 1s linear infinite;
      top: 50px;
      left: 50px
    }
    .loadingio-spinner-rolling-fgoiopotzvt {
      width: 77px;
      height: 77px;
      display: inline-block;
      overflow: hidden;
      background: none;
      margin: auto;
    }
    .ldio-fcx8uszokr6 {
      width: 100%;
      height: 100%;
      position: relative;
      transform: translateZ(0) scale(0.77);
      backface-visibility: hidden;
      transform-origin: 0 0; /* see note above */
    }
    .ldio-fcx8uszokr6 div { box-sizing: content-box; }
    /* generated by https://loading.io/ */
</style>
</head>
<body>
  <div class="pre-loader">
    <img src="assets/images/wired-outline-1958-pyramids.gif" alt="">
  </div>
    <div class="shade"></div>

  <header class="hide">
    <div class="container">
      <nav>
        <a href="index.html"><img class="logo" src="assets/images/800px-AIESEC-Human-Blue.png" alt=""></a>
        <ul>
          <li>
            <a style="text-decoration: none;padding: 0 1.5rem;text-transform: uppercase;font-weight: 300;font-size: 0.83rem;color: var(--beige);" href="whyEgypt.html">Why Egypt</a>
          </li>
          <li >
            <div class="programs-list" >
              <div class="dropdown-head" style="color: var(--beige);" href="">Our Programs</div>
              <div class="dropdown">
                <ul class="dropdown-list">
                  <li><a href="igv.html">Global Volunteer</a></li>
                  <li><a href="igta.html">Global Talent</a></li>
                  <li><a href="igte.html">Global Teacher</a></li>
                </ul>
              </div>
              <!-- <i class="fa fa-angle-down"></i> -->
            </div>
          </li>
        </ul>
        <div class="hamburger">
          <button>
            <div class="bar"></div>
          </button>
        </div>
      </nav>
    </div>
  </header>


  <main>
    <div class="pattern-top">
      <img src="assets/images/pharaonic-pattern-top.png" alt="">
    </div>    
    <!-- hero section -->
    <section class="hero" id="hero_sec">
      <div class="vignette hide"></div>
      <picture>
        <source media="(max-width: 767px)" srcset="assets/images/iGV/mb_gte.png" />
        <source media="(min-width: 768px)" srcset="assets/images/iGV/soory4764_young_international_teachers_teaching_egyptian_studen_291fb764-4e94-492e-8441-636b13291e19.png" />
        <img src="assets/images/iGV/soory4764_young_international_teachers_teaching_egyptian_studen_291fb764-4e94-492e-8441-636b13291e19.png"  alt="text" class="igv-photo"/>
      </picture>
      <picture>
        <source media="(max-width: 767px)" srcset="assets/images/iGV/product_GTe-Vertical-color.png" />
        <source media="(min-width: 768px)" srcset="assets/images/iGV/gte-logo.png" />
        <img src="assets/images/iGV/gte-logo.png"  alt="text" data-speedx="0.3" data-speedy="0.2" data-distance="500" alt="" class="text-igv"/>
      </picture>
    </section>
    <section class="about" data-aos="fade-up" data-aos-duration="3000">
      <div class="container">
        <h2>INCOMING GLOBAL <br> <span style="color: #f48924">TEACHER</span></h2>
        <div class="paragraphs">
          <p>Join AIESEC's Teaching Opportunities in Egypt and become a beacon of knowledge for Egyptian students. Empower the next generation with the skills and confidence they need to succeed.</p>
        </div>
      </div>
    </section>

    <section class="images_section">
      <!-- <h2>test</h2> -->
      
      <div class="container">
      <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="assets/images/iGTe/1.webp" alt="Aswan" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/2.webp" alt="Cario" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/3.webp" alt="White Desert" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/4.webp" alt="Luxor" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/5.webp" alt="St. Cathrine" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/6.webp" alt="Marsa Alam" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/7.webp" alt="Fayoum" />        
            </div>
            <div class="swiper-slide">
              <img src="assets/images/iGTe/8.webp" alt="Edfu" />        
            </div>
          </div>
        </div>
        </div>
    </section>

    <section class="video">
      <div class="egypt-video container">
        <div class="video-wrapper">
          <button class="fas fa-play play-btn" id="myButton" onclick="PlayIGTe()" style="color: #f48924;"></button>
          <video id="video" class=home-video poster="assets/images/iGTe/cover_1.webp">
            <source id="mp4" type="video/mp4">
          </video>
          <div class="border-igv"></div>
        </div>
    </div>
    </section>
    <section class="projects">
      <div class="container">
        <div class="projects-header">
          <div class="projects">
            <h2>OUR PROJECTS</h2>
            <p id="projects-number" style="font-size: 14px;"></p>
          </div>
          <div class="filters">
            <button class="filter" id="fltrBtn" >FILTER</button>
            <div class="start-date">
              <label for="date">Slots start date from: </label>
              <input type="date" id="date" value="date" class="lc">
            </div>
            <div class="filter-popup" id="fltr-pop">
              <div class="filter-blocker"></div>
              <div class="filter-options">
                <div class="filters-content">
                  <div class="filter-list">
                    <ul>
                      <li id="filter-li" class="active-filter" data-filter="one">LCs</li>
                      <li id="filter-li" data-filter="three">Duration</li>
                    </ul>
                  </div>
                  <div class="lcs-filter" id="filter_one">
                    <div class="input-wrapper">
                      <input type="checkbox" id="6th October University" value="6th October University" class="lc" data-type="filterOne">
                      <label for="6th October University">6th October University</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="AAST Alexandria" value="AAST Alexandria" class="lc" data-type="filterOne">
                      <label for="AAST Alexandria">AAST Alexandria</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="AAST In CAIRO" value="AAST In CAIRO" class="lc" data-type="filterOne">
                      <label for="AAST In CAIRO">AAST In CAIRO</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Ain Shams University" value="Ain Shams University" class="lc" data-type="filterOne">
                      <label for="Ain Shams University">Ain Shams University</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Alexandria" value="Alexandria" class="lc" data-type="filterOne">
                      <label for="Alexandria">Alexandria</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="AUC" value="AUC" class="lc" data-type="filterOne">
                      <label for="AUC">AUC</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Cairo University" value="Cairo University" class="lc" data-type="filterOne">
                      <label for="Cairo University">Cairo University</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Damietta" value="Damietta" class="lc" data-type="filterOne">
                      <label for="Damietta">Damietta</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="GUC" value="GUC" class="lc" data-type="filterOne">
                      <label for="GUC">GUC</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Helwan" value="Helwan" class="lc" data-type="filterOne">
                      <label for="Helwan">Helwan</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Zagazig" value="Zagazig" class="lc" data-type="filterOne">
                      <label for="Zagazig">Zagazig</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Mansoura" value="Mansoura" class="lc" data-type="filterOne">
                      <label for="Mansoura">Mansoura</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Menofia" value="Menofia" class="lc" data-type="filterOne">
                      <label for="Menofia">Menofia</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="MIU" value="MIU" class="lc" data-type="filterOne">
                      <label for="MIU">MIU</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="MSA" value="MSA" class="lc" data-type="filterOne">
                      <label for="MSA">MSA</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="MUST" value="MUST" class="lc" data-type="filterOne">
                      <label for="MUST">MUST</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Suez" value="Suez" class="lc" data-type="filterOne">
                      <label for="Suez">Suez</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Tanta" value="Tanta" class="lc" data-type="filterOne">
                      <label for="Tanta">Tanta</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="Zagazig" value="Zagazig" class="lc" data-type="filterOne">
                      <label for="Zagazig">Zagazig</label>
                    </div>
                  </div>
                  <div class="lcs-filter hide-filter" id="filter_three" style="grid-auto-rows: max-content;">
                    <div class="input-wrapper">
                      <input type="checkbox" id="short" value="short" class="lc" data-type="filterThree">
                      <label for="short">Short</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="medium" value="medium" class="lc" data-type="filterThree">
                      <label for="medium">Medium</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="checkbox" id="long" value="long" class="lc" data-type="filterThree">
                      <label for="long">Long</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="opp-cards" id="cards">
        </div>
        <div style="display: flex;"><button id="load-more" onclick="loadMore()">LOAD MORE</button></div>
        
      </div>
    </section>
        <footer class="container" style="padding-top: 12px !important;" >
        <p>
        Made with ðŸ’› in Egypt, Powered by AIESEC,<br />Developed by
        <a class=omar href=https://www.linkedin.com/in/omar-rwiheb-698a761b9 target="_blank"/>Omar Rwiheb</a></p>
      </footer>
      <div class="pattern">
        <img src="assets/images/pharaonic-pattern.png" alt="">
      </div>
  </main>
  <div class="mobile-nav" style="display: none;">
    <div class="nav-blocker"></div>
    <div class="nav-content">    
      <a style="  display: flex;justify-content: center;" href="index.html"><img class="logo" src="assets/images/egypt.png" alt=""></a>
      <ul>
        <li style="margin-top: 19px;">
          <a style="text-decoration: none;color: var(--beige);;text-transform: uppercase;font-weight: 300;font-size: 16px;" href="index.html">Home</a>
        </li>        
        <li style="margin-top: 19px;">
          <a style="text-decoration: none;color: var(--beige);;text-transform: uppercase;font-weight: 300;font-size: 16px;" href="whyEgypt.html">Why Egypt</a>
        </li>
        <li>
          <div class="programs-list" >
            <div style="padding: 0; font-size: 16px;color: var(--beige);" id="dropdown-head-mob" class="dropdown-head" href="">Our Programs</div>
            <div class="dropdown" >
              <ul id="mob-dropdown" style="color: var(--beige);background: transparent;padding: 14px;border-bottom-left-radius: 15px;border-bottom-right-radius: 15px;position: absolute;top: 27px;width: 100%;display:block"  class="dropdown-list-mob">
                <li><a href="igv.html">Global Volunteer</a></li>
                <li><a href="igta.html">Global Talent</a></li>
                <li><a href="igte.html">Global Teacher</a></li>
              </ul>
              <div class="list-cover" style="transform: translateY(1px)"></div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <script src="assets/vendors/swiperjs/swiper-bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" integrity="sha512-16esztaSRplJROstbIIdwX3N97V1+pZvV33ABoG1H2OyTttBxEGkTsoIVsiP1iaTtM8b3+hu2kB6pQ4Clr5yug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="assets/js/script.js"></script>
  <script>
    // slider 
    var swiper = new Swiper(".mySwiper", {
      effect: "coverflow",
      grabCursor: true,
      centeredSlides: true,
      loop: true,
      slidesPerView: "1",
      coverflowEffect: {
        rotate: 0,
        stretch: 0,
        depth: 100,
        modifier: 4,
        slideShadows: false
      },
      keyboard: {
        enabled: true
      },
      mousewheel: {
        thresholdDelta: 70
      },
      initialSlide: 0,
      on: {
        click(event) {
          swiper.slideTo(this.clickedIndex);
        }
      },
      breakpoints: {
        640: {
          slidesPerView: 2
        }
      }
    });
    const filterBtn = document.getElementById('fltrBtn');
    filterBtn.addEventListener('click', () => {
      document.getElementById('fltr-pop').style.display = "block";
    })

    let fltrBlocker = document.querySelector('.filter-blocker');
    fltrBlocker.addEventListener('click', () => {
      document.getElementById('fltr-pop').style.display = "none";
    })

    document.addEventListener('keydown', evt => {
        if (evt.key === 'Escape') {
            if(document.getElementById('fltr-pop').style.display == "block")document.getElementById('fltr-pop').style.display = "none";
        }
    });
  </script>
  <script>
    const currencies = {
      "Egyptian Pound": "EGP",
      "US Dollar": "USD",
    }
    let data = []
    let filteredArray = [];
    let nodes = [];
    let cards_div = document.getElementById('cards')
    cards_div.innerHTML = `<div class="loadingio-spinner-rolling-fgoiopotzvt"><div class="ldio-fcx8uszokr6">
      <div></div>
      </div></div>`;
    fetch('https://alpha.aiesec.org.eg/igteOpens').then(res => {return res.json()}).then(d => {
      data = d.data.opportunities.data;
      for(let item of data){
        for(let node of item.all_slots.nodes){
          nodes.push({
            id: item.id,
            title: item.title,
            opens: node.available_openings,
            start_date: node.start_date,
            lc: item.home_lc.full_name,
            duration: item.opportunity_duration_type.duration_type,
            salary: item.specifics_info.salary,
            currecy: item.specifics_info.salary_currency.name,
          })
        }
      }
      jsonManipulation(nodes);
      filteredArray = nodes;
    });
    
    function jsonManipulation(data){
      cards_div.innerHTML = '';
      let counter = 0;
      for(let item of data){
        counter += item.opens;
        cards_div.innerHTML += `
          <a class="opp-card" href="https://aiesec.org/opportunity/global-teacher/${item.id}" target="_blank">
            <h3 class="title">${item.title}</h3>
            <p class="slots">${item.duration}</p>
            <div class="card-info-wrapper">
              <p style="width: 65%;">Slot start date: ${item.start_date}</p>
              <p class="slots">Salary: ${item.salary? (item.salary + " " + currencies[item.currecy]): "Not paid"}</p>
              <p class="slots">Available openings: ${item.opens}</p>
              <p class="lc">${item.lc}</p>
            </div>
          </a>
          `
        }
      document.getElementById('projects-number').innerText = `${counter} Openings were found`

      }
    
    let current = 6;
    const loadMoreBtn = document.getElementById('load-more');
    function loadMore(){
      let cardss = [...document.querySelectorAll('.opp-card')];
      let i = current;
      for(; i < current + 6 && i < cardss.length; i++){
        cardss[i].style.display = "inline-block";
      }
      current = i;
      if(current >= cardss.length) loadMoreBtn.style.display = "none";
    }
    
    let choices1 = [];
    let choices2 = [];
    let choices3 = [];
    const lcs = document.querySelectorAll('.lc');
    lcs.forEach(lc => {
      lc.addEventListener('change', () => {
        if(lc.checked && lc.dataset.type == "filterOne"){
          choices1.push(`AIESEC in ${lc.value}`);
        }
        else if(!lc.checked && lc.dataset.type == "filterOne"){
          choices1.splice( choices1.indexOf(`AIESEC in ${lc.value}`), 1);
        }
        else if(lc.checked && lc.dataset.type == "filterTwo"){
          choices2.push(`${lc.value}`);
        }
        else if(!lc.checked && lc.dataset.type == "filterTwo"){
          choices2.splice( choices2.indexOf(`${lc.value}`), 1);
        }
        else if(lc.checked && lc.dataset.type == "filterThree"){
          choices3.push(`${lc.value}`);
        }
        else if(!lc.checked && lc.dataset.type == "filterThree"){
          choices3.splice( choices2.indexOf(`${lc.value}`), 1);
        }

        if(choices1.length && choices2.length && choices3.length)filteredArray = nodes.filter(item => choices1.includes(item.lc) && choices2.includes(item.sub_product) && choices3.includes(item.duration));
        else if(!choices1.length && choices2.length && choices3.length)filteredArray = nodes.filter(item => choices2.includes(item.sub_product) && choices3.includes(item.duration));
        else if(choices1.length && !choices2.length && choices3.length)filteredArray = nodes.filter(item => choices1.includes(item.lc) && choices3.includes(item.duration));
        else if(choices1.length && choices2.length && !choices3.length)filteredArray = nodes.filter(item => choices1.includes(item.lc) && choices2.includes(item.sub_product));
        else if(choices1.length && !choices2.length && !choices3.length)filteredArray = nodes.filter(item => choices1.includes(item.lc));
        else if(!choices1.length && choices2.length && !choices3.length)filteredArray = nodes.filter(item => choices2.includes(item.sub_product));
        else if(!choices1.length && !choices2.length && choices3.length)filteredArray = nodes.filter(item => choices3.includes(item.duration));
        else filteredArray = nodes;
        let cards = [...document.querySelectorAll('.opp-card')];
        for(let i = 0; i < cards.length; i++){
          cards[i].style.display = "none";
        }
        cards_div.innerHTML = '';
        current = 6;
        loadMoreBtn.style.display = "block";
        jsonManipulation(filteredArray);
      })
    })

    const start_date = document.getElementById('date');
    start_date.addEventListener('change', () => {
      console.log(filteredArray)
      const datedArray = filteredArray.filter(item => item.start_date >= start_date.value);
      console.log(start_date.value)
      console.log(datedArray);
      let cards = [...document.querySelectorAll('.opp-card')];
      for(let i = 0; i < cards.length; i++){
        cards[i].style.display = "none";
      }
      cards_div.innerHTML = '';
      current = 6;
      loadMoreBtn.style.display = "block";
      jsonManipulation(datedArray);
    })

    const filterList = document.querySelectorAll('#filter-li');
    filterList.forEach(li => {
      li.addEventListener('click', () => {
        let active = document.querySelector('.active-filter');
        active.classList.remove('active-filter');
        document.getElementById(`filter_${active.dataset.filter}`).classList.add('hide-filter');
        li.classList.add('active-filter');
        document.getElementById(`filter_${li.dataset.filter}`).classList.remove('hide-filter');
      })
    })


  </script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>
</body>
</html>